{"ast":null,"code":"import * as e from \"react\";\nimport { useFormContext as r, get as n } from \"react-hook-form\";\n\nvar s = function (s) {\n  var t = s.as,\n      a = s.errors,\n      m = s.name,\n      o = s.message,\n      i = s.render,\n      l = function (e, r) {\n    if (null == e) return {};\n    var n,\n        s,\n        t = {},\n        a = Object.keys(e);\n\n    for (s = 0; s < a.length; s++) r.indexOf(n = a[s]) >= 0 || (t[n] = e[n]);\n\n    return t;\n  }(s, [\"as\", \"errors\", \"name\", \"message\", \"render\"]),\n      f = r(),\n      c = n(a || f.formState.errors, m);\n\n  if (!c) return null;\n  var g = c.message,\n      u = c.types,\n      d = Object.assign({}, l, {\n    children: g || o\n  });\n  return e.isValidElement(t) ? e.cloneElement(t, d) : i ? i({\n    message: g || o,\n    messages: u\n  }) : e.createElement(t || e.Fragment, d);\n};\n\nexport { s as ErrorMessage };","map":{"version":3,"sources":["../src/ErrorMessage.tsx"],"names":["ErrorMessage","as","errors","name","message","render","rest","methods","useFormContext","error","get","formState","messageFromRegister","types","props","Object","assign","children","React","isValidElement","cloneElement","messages","createElement","Fragment"],"mappings":";;;AAIMA,IAAAA,CAAAA,GAAe,UAAA,CAAA,EAAA;AAAA,MAQnBC,CAAAA,GAAAA,CAAAA,CAAAA,EARmB;AAAA,MASnBC,CAAAA,GAAAA,CAAAA,CAAAA,MATmB;AAAA,MAUnBC,CAAAA,GAAAA,CAAAA,CAAAA,IAVmB;AAAA,MAWnBC,CAAAA,GAAAA,CAAAA,CAAAA,OAXmB;AAAA,MAYnBC,CAAAA,GAAAA,CAAAA,CAAAA,MAZmB;AAAA,MAahBC,CAAAA,GAAAA,UAAAA,CAAAA,EAAAA,CAAAA,EAAAA;AAAAA,QAAAA,QAAAA,CAAAA,EAAAA,OAAAA,EAAAA;AAAAA,QAAAA,CAAAA;AAAAA,QAAAA,CAAAA;AAAAA,QAAAA,CAAAA,GAAAA,EAAAA;AAAAA,QAAAA,CAAAA,GAAAA,MAAAA,CAAAA,IAAAA,CAAAA,CAAAA,CAAAA;;AAAAA,SAAAA,CAAAA,GAAAA,CAAAA,EAAAA,CAAAA,GAAAA,CAAAA,CAAAA,MAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,OAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,KAAAA,CAAAA,KAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA;;AAAAA,WAAAA,CAAAA;AAAAA,GAAAA,CAAAA,CAAAA,EAAAA,CAAAA,IAAAA,EAAAA,QAAAA,EAAAA,MAAAA,EAAAA,SAAAA,EAAAA,QAAAA,CAAAA,CAbgB;AAAA,MAebC,CAAAA,GAAUC,CAAAA,EAfG;AAAA,MAgBbC,CAAAA,GAAQC,CAAAA,CAAIR,CAAAA,IAAUK,CAAAA,CAAQI,SAARJ,CAAkBL,MAAhCQ,EAAwCP,CAAxCO,CAhBK;;AAkBnB,MAAA,CAAKD,CAAL,EACE,OAAA,IAAA;AAAA,MAGeG,CAAAA,GAA+BH,CAAAA,CAAxCL,OAHN;AAAA,MAGoCS,CAAAA,GAAUJ,CAAAA,CAAVI,KAHpC;AAAA,MAIIC,CAAAA,GAAQC,MAAAA,CAAOC,MAAPD,CAAc,EAAdA,EAAkBT,CAAlBS,EAAwB;AACpCE,IAAAA,QAAAA,EAAUL,CAAAA,IAAuBR;AADG,GAAxBW,CAJZ;AAQF,SAAOG,CAAAA,CAAMC,cAAND,CAAqBjB,CAArBiB,IACHA,CAAAA,CAAME,YAANF,CAAmBjB,CAAnBiB,EAAuBJ,CAAvBI,CADGA,GAEHb,CAAAA,GACCA,CAAAA,CAAO;AACND,IAAAA,OAAAA,EAASQ,CAAAA,IAAuBR,CAD1B;AAENiB,IAAAA,QAAAA,EAAUR;AAFJ,GAAPR,CADDA,GAKAa,CAAAA,CAAMI,aAANJ,CAAqBjB,CAAAA,IAAiBiB,CAAAA,CAAMK,QAA5CL,EAAsDJ,CAAtDI,CAPJ;AAO0DJ,CAlCtDd;;AAkCsDc,SAAAA,CAAAA,IAAAA,YAAAA","sourcesContent":["import * as React from 'react';\nimport { useFormContext, get, FieldErrors } from 'react-hook-form';\nimport { Props } from './types';\n\nconst ErrorMessage = <\n  TFieldErrors extends FieldErrors,\n  TAs extends\n    | undefined\n    | React.ReactElement\n    | React.ComponentType<any>\n    | keyof JSX.IntrinsicElements = undefined\n>({\n  as,\n  errors,\n  name,\n  message,\n  render,\n  ...rest\n}: Props<TFieldErrors, TAs>) => {\n  const methods = useFormContext();\n  const error = get(errors || methods.formState.errors, name);\n\n  if (!error) {\n    return null;\n  }\n\n  const { message: messageFromRegister, types } = error;\n  const props = Object.assign({}, rest, {\n    children: messageFromRegister || message,\n  });\n\n  return React.isValidElement(as)\n    ? React.cloneElement(as, props)\n    : render\n    ? (render({\n        message: messageFromRegister || message,\n        messages: types,\n      }) as React.ReactElement)\n    : React.createElement((as as string) || React.Fragment, props);\n};\n\nexport { ErrorMessage };\n"]},"metadata":{},"sourceType":"module"}